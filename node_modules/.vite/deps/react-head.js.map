{
  "version": 3,
  "sources": ["../../react-head/dist/index.esm.js", "../../@babel/runtime/helpers/esm/inheritsLoose.js"],
  "sourcesContent": ["import _extends from '@babel/runtime/helpers/esm/extends';\nimport { createContext, createElement, Component } from 'react';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport { createPortal } from 'react-dom';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\n\nvar _React$createContext = /*#__PURE__*/createContext(null),\n    Consumer = _React$createContext.Consumer,\n    Provider = _React$createContext.Provider;\n\nvar HeadTag = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(HeadTag, _React$Component);\n\n  function HeadTag() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      canUseDOM: false\n    };\n    _this.headTags = null;\n    _this.index = -1;\n    return _this;\n  }\n\n  var _proto = HeadTag.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this$props = this.props,\n        tag = _this$props.tag,\n        name = _this$props.name,\n        property = _this$props.property;\n    this.setState({\n      canUseDOM: true\n    });\n    this.index = this.headTags.addClientTag(tag, name || property);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var tag = this.props.tag;\n    this.headTags.removeClientTag(tag, this.index);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        Tag = _this$props2.tag,\n        rest = _objectWithoutPropertiesLoose(_this$props2, [\"tag\"]);\n\n    var canUseDOM = this.state.canUseDOM;\n    return /*#__PURE__*/createElement(Consumer, null, function (headTags) {\n      if (headTags == null) {\n        throw Error('<HeadProvider /> should be in the tree');\n      }\n\n      _this2.headTags = headTags;\n\n      if (canUseDOM) {\n        if (!headTags.shouldRenderTag(Tag, _this2.index)) {\n          return null;\n        }\n\n        var ClientComp = /*#__PURE__*/createElement(Tag, rest);\n        return /*#__PURE__*/createPortal(ClientComp, document.head);\n      }\n\n      var ServerComp = /*#__PURE__*/createElement(Tag, _extends({\n        \"data-rh\": \"\"\n      }, rest));\n      headTags.addServerTag(ServerComp);\n      return null;\n    });\n  };\n\n  return HeadTag;\n}(Component);\n\nvar cascadingTags = ['title', 'meta'];\n\nvar HeadProvider = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(HeadProvider, _React$Component);\n\n  function HeadProvider() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.indices = new Map();\n    _this.state = {\n      addClientTag: function addClientTag(tag, name) {\n        // consider only cascading tags\n        if (cascadingTags.indexOf(tag) !== -1) {\n          _this.setState(function (state) {\n            var _ref;\n\n            var names = state[tag] || [];\n            return _ref = {}, _ref[tag] = [].concat(names, [name]), _ref;\n          }); // track indices synchronously\n\n\n          var _assertThisInitialize = _assertThisInitialized(_this),\n              indices = _assertThisInitialize.indices;\n\n          var index = indices.has(tag) ? indices.get(tag) + 1 : 0;\n          indices.set(tag, index);\n          return index;\n        }\n\n        return -1;\n      },\n      shouldRenderTag: function shouldRenderTag(tag, index) {\n        if (cascadingTags.indexOf(tag) !== -1) {\n          var names = _this.state[tag]; // eslint-disable-line react/destructuring-assignment\n          // check if the tag is the last one of similar\n\n          return names && names.lastIndexOf(names[index]) === index;\n        }\n\n        return true;\n      },\n      removeClientTag: function removeClientTag(tag, index) {\n        _this.setState(function (state) {\n          var names = state[tag];\n\n          if (names) {\n            var _ref2;\n\n            names[index] = null;\n            return _ref2 = {}, _ref2[tag] = names, _ref2;\n          }\n\n          return null;\n        });\n      },\n      addServerTag: function addServerTag(tagNode) {\n        var _this$props$headTags = _this.props.headTags,\n            headTags = _this$props$headTags === void 0 ? [] : _this$props$headTags; // tweak only cascading tags\n\n        if (cascadingTags.indexOf(tagNode.type) !== -1) {\n          var index = headTags.findIndex(function (prev) {\n            var prevName = prev.props.name || prev.props.property;\n            var nextName = tagNode.props.name || tagNode.props.property;\n            return prev.type === tagNode.type && prevName === nextName;\n          });\n\n          if (index !== -1) {\n            headTags.splice(index, 1);\n          }\n        }\n\n        headTags.push(tagNode);\n      }\n    };\n    return _this;\n  }\n\n  var _proto = HeadProvider.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var ssrTags = document.head.querySelectorAll(\"[data-rh=\\\"\\\"]\"); // `forEach` on `NodeList` is not supported in Googlebot, so use a workaround\n\n    Array.prototype.forEach.call(ssrTags, function (ssrTag) {\n      return ssrTag.parentNode.removeChild(ssrTag);\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        headTags = _this$props.headTags,\n        children = _this$props.children;\n\n    if (typeof window === 'undefined' && Array.isArray(headTags) === false) {\n      throw Error('headTags array should be passed to <HeadProvider /> in node');\n    }\n\n    return /*#__PURE__*/createElement(Provider, {\n      value: this.state\n    }, children);\n  };\n\n  return HeadProvider;\n}(Component);\n\nvar Title = function Title(props) {\n  return /*#__PURE__*/createElement(HeadTag, _extends({\n    tag: \"title\"\n  }, props));\n};\nvar Style = function Style(props) {\n  return /*#__PURE__*/createElement(HeadTag, _extends({\n    tag: \"style\"\n  }, props));\n};\nvar Meta = function Meta(props) {\n  return /*#__PURE__*/createElement(HeadTag, _extends({\n    tag: \"meta\"\n  }, props));\n};\nvar Link = function Link(props) {\n  return /*#__PURE__*/createElement(HeadTag, _extends({\n    tag: \"link\"\n  }, props));\n};\nvar Base = function Base(props) {\n  return /*#__PURE__*/createElement(HeadTag, _extends({\n    tag: \"base\"\n  }, props));\n};\n\nexport { Base, HeadProvider, Link, Meta, Style, Title };\n", "import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };"],
  "mappings": "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",
  "names": ["HeadTag", "HeadProvider", "Title", "Style", "Meta", "Link", "Base"]
}
